function jsonSubmit(e){e.preventDefault();const t=$(this),o=new FormData(this),n=$("[name=csrfmiddlewaretoken]").val(),r=t.attr("action"),s=t.data("reset"),a=t.find('button[type="submit"]');a.length?a.prop("disabled",!0):console.warn("Advertencia: Botón de envío no encontrado..."),$.ajax({url:r,method:"POST",data:o,processData:!1,contentType:!1,headers:{"X-Requested-With":"XMLHttpRequest","X-CSRFToken":n},success:function(e){const o=e.message;e.datastatus&&(e.redirect_url?window.location.href=e.redirect_url:toast("top",8e3,"success",o)),!0!==s&&void 0!==s||t.trigger("reset"),a.length?a.prop("disabled",!0):console.warn("Advertencia: Botón de envío no encontrado...")},error:function(e){const t=e.responseJSON;toast("center",8e3,"error",t?.message||"Error desconocido"),t?.message||console.error(t||"Error desconocido"),t?.valSelector&&$(`#${t.valSelector}`).focus()},complete:function(){a.length&&a.prop("disabled",!1)}})}$(document).ready(function(){$("[data-submit]").on("submit",jsonSubmit)});